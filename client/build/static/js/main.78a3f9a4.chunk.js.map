{"version":3,"sources":["components/Home/Home.module.css","components/DiaryList/DiaryList.jsx","components/Navbar/Navbar.jsx","components/NewDiary/NewDiary.jsx","services/tokenService.js","services/userService.js","components/SignupForm/SignupForm.jsx","pages/SignupPage/SignupPage.jsx","pages/LoginPage/LoginPage.jsx","components/UpdateDiary/UpdateDiary.jsx","components/Home/home.jpg","components/Home/Home.jsx","App.js","index.js"],"names":["module","exports","DiaryList","props","useEffect","componentDidMount","className","diary","map","idx","src","canvas","title","text","date","to","_id","value","onClick","event","handleDelete","type","Navbar","currentUser","name","handleLogout","activeClassName","NewDiary","handleAddChange","setState","target","handleAddDiarysSumbit","a","handleExport","fetch","method","headers","Headers","body","JSON","stringify","state","then","res","json","data","console","log","current","exportImage","exportDiary","React","createRef","onSubmit","this","style","width","height","ref","strokeWidth","strokeColor","placeholder","onChange","rows","cols","Component","getToken","token","localStorage","getItem","parse","atob","split","exp","Date","now","removeItem","setToken","setItem","getUserFromToken","user","removeToken","BASE_URL","signup","ok","Error","tokenService","getUser","login","credentials","logout","SignupForm","handleChange","handleSubmit","preventDefault","userService","email","password","confirmPassword","SignupPage","updateMessage","msg","message","LoginPage","handleSignupOrLogin","history","push","UpdateDiary","useHistory","id","useParams","useState","postData","setPostData","e","handleUpdateDiary","Home","styles","main","image","img","App","bind","path","exact","render","ReactDOM","StrictMode","document","getElementById"],"mappings":"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","file":"static/js/main.78a3f9a4.chunk.js","sourcesContent":["// extracted by mini-css-extract-plugin\nmodule.exports = {\"image\":\"Home_image__3DuFa\",\"main\":\"Home_main__UU0fQ\"};","import './DiaryList.css'\nimport React, { useEffect } from 'react';\nimport { Link } from \"react-router-dom\";\n\nfunction DiaryList(props) {\n\n    useEffect(() => {\n        props.componentDidMount()\n    }, []);\n\n    return (\n        <div>\n            <div className=\"container\">\n            {props.diary.map((diary, idx) => (\n                <div className=\"diarylist\">\n                <ul className=\"liststyle\">\n                        <li key={idx}>\n                                <img src={diary.canvas} /><br/>\n                                <div>{diary.title}</div><br/>\n                                <div>{diary.text}</div><br/>\n                                <div>{diary.date}</div><br />\n                                {/* <Link to={ `/diarys/${this.props.match.params.id}/edit`}></Link> */}\n                            <Link to={`/Diary/update/${diary._id}`}>Edit</Link>\n                                <input value=\"Delete\"\n                                    className=\"deletebtn\"\n                                    onClick={(event)=> props.handleDelete(event,diary._id)}\n                                type=\"submit\" />\n                            </li>\n                    </ul>\n                </div>\n                ))}\n             </div>\n        </div>    \n    )\n}\n  \n\nexport default DiaryList\n\n","import React from \"react\";\nimport './Navbar.css'\nimport { Link } from \"react-router-dom\";\n\nfunction Navbar(props) {\n    let nav = props.currentUser ?\n        <div className=\"nav\">\n            <ul>\n                <li><Link to=\"/\">Home</Link></li>\n                <li><Link to=\"/Diary\">Diary List</Link></li>\n                <li><Link to=\"/Diary/new\">Add Diary</Link></li>\n                <li><span className=\"user\">Welcome {props.currentUser.name}</span></li>\n                <li><Link to=\"/\" onClick={props.handleLogout} activeClassName=\"active\">Logout</Link></li>\n            </ul>\n        </div>\n            :\n        <div className='nav'>  \n                <ul>\n                    <li><Link to=\"/\" activeClassName=\"active\">Home</Link></li>\n                    <li><Link to=\"/login\" activeClassName=\"active\">Login</Link></li>\n                    <li><Link to=\"/signup\" activeClassName=\"active\">Signup</Link></li>\n                </ul>\n        </div>\n    \n    return nav\n}\n\nexport default Navbar\n\n","import React, { Component} from 'react'\nimport './NewDiary.css'\n// import Picker from 'emoji-picker-react';\nimport { ReactSketchCanvas } from 'react-sketch-canvas';\n\nclass NewDiary extends Component {\n    constructor(props) {\n        super(props)\n\n        this.state = {\n            title:'',\n            text: '',\n            date: '',\n            canvas:''\n        }\n        this.canvas = React.createRef();\n\n    }\n\n    handleAddChange = (event) => {\n        this.setState({\n            [event.target.name]:event.target.value\n        })\n    }\n \n    handleAddDiarysSumbit = async (event) => {\n        // event.preventDefault()\n        // console.log(\"canvas\",this.canvas)\n        // console.log(\"state\", this.state)\n        await this.handleExport();\n        fetch('/diarys/sumDiary', {\n            method: 'POST',\n            headers: new Headers({'Content-Type': 'application/json'}),\n            body: JSON.stringify(this.state),\n        }).then((res) => res.json())\n        .then(data => console.log(data))\n    }\n\n    handleExport = async () => {\n        // console.log(\"clicked\");\n        const exportDiary = await this.canvas.current.exportImage();\n        this.setState({canvas : exportDiary })\n        // console.log(exportDiary);\n      };\n    \n    // onEmojiClick = (event) => {\n    //     this.useState({[event.target.name]:event.target.value\n    //     })\n    // }\n\n    render() {\n        const drawBoard = {\n            width: \"520px\",\n            height:\"350px\"\n        }\n        return (\n            <div className=\"background\">\n                <div className=\"newdiary\">\n                    <form onSubmit={this.handleAddDiarysSumbit}>\n                        <div className=\"canvas\">\n                            <ReactSketchCanvas name=\"canvas\"\n                                className=\"canvas\"\n                                style={drawBoard}\n                                ref={this.canvas} strokeWidth={4} strokeColor=\"black\" />\n                            {/* <button className=\"canvasbtn\" onClick={() => {\n                                this.canvas.current.exportImage(\"png\")\n                                .then(data => { console.log(data); })\n                                .catch(e => {console.log(e);});}}>eraser</button> */}\n                        </div>\n                        <div className=\"title\">\n                            <input type='text' placeholder=\"Title\" name=\"title\"\n                                className=\"titlename\"\n                                onChange={this.handleAddChange} />\n                        </div>\n                        <div className=\"textbox\">\n                            <textarea type=\"text\" rows=\"6\" cols=\"55\"\n                                placeholder=\"What did you do today??\"\n                                name=\"text\"\n                                onChange={this.handleAddChange}\n                            />\n                            {/* <Picker onEmojiClick={this.onEmojiClick} /> */}\n                        </div>\n                        <div>\n                        <input type='date'\n                                className='date'\n                                name=\"date\"\n                            onChange={this.handleAddChange} />\n                        </div>\n                        <div className=\"addbtn\">\n                            <input value=\"Add Diary\" type=\"Submit\" className=\"btn\"/>\n                        </div>\n\n                    </form>\n                    </div>\n            </div>     \n        )\n    }\n}\n\n\nexport default NewDiary\n\n","function setToken(token){\n    if(token){\n        localStorage.setItem('token', token)\n    }else {\n       localStorage.removeItem('token') \n    }\n}\n\nfunction getToken(){\n    let token = localStorage.getItem('token')\n    if(token){\n        const payload = JSON.parse(atob(token.split('.')[1]))\n        if(payload.exp < Date.now() / 1000){\n            localStorage.removeItem('token')\n            token = null\n        }\n    }\n    return token\n}\n\nfunction getUserFromToken(){\n    const token = getToken()\n    return token ? JSON.parse(atob(token.split('.')[1])).user : null\n}\n\nfunction removeToken() {\n    localStorage.removeItem(\"token\");\n  }\n\nexport default {\n    setToken,\n    getToken,\n    getUserFromToken,\n    removeToken\n}","import tokenService from './tokenService'\nconst BASE_URL = 'http://localhost:3000/api/users'\n\nfunction signup(user){\n    return fetch(`${BASE_URL}/signup`, {\n        method: 'POST',\n        headers: new Headers({'Content-Type': 'application/json'}),\n        body: JSON.stringify(user)\n    })\n    .then(res => {\n        if (res.ok) return res.json()\n        throw new Error('Email already taken')\n    })\n    .then( ({token}) => tokenService.setToken(token))\n}\n\nfunction login(credentials){\n    return fetch(`${BASE_URL}/login`, {\n        method: 'POST',\n        headers: new Headers({'Content-Type': 'application/json'}),\n        body: JSON.stringify(credentials)\n    })\n    .then(res => {\n        if (res.ok) return res.json()\n        throw new Error('Username or password incorrect!')\n    })\n    .then( ({token}) => tokenService.setToken(token))\n}\n\n\nfunction getUser() {\n    return tokenService.getUserFromToken();\n}\n  \nfunction logout() {\n    tokenService.removeToken();\n  }\n\n\nexport default {\n    signup,\n    getUser,\n    login,\n    logout\n}","import React, { Component } from 'react'\nimport userService from '../../services/userService'\n\nclass SignupForm extends Component {\n    constructor(props){\n        super(props)\n        this.state = {\n            name: '',\n            email: '',\n            password: '',\n            confirmPassword: ''\n        }\n    }\n\n    handleChange = (event) => {\n        this.setState({\n            [event.target.name]: event.target.value\n        })\n    }\n\n    handleSubmit = async (event) => {\n        event.preventDefault()\n        /**send data to api by calling the signup function in your userService */\n        try {\n            await userService.signup(this.state)\n        }catch(err){\n            console.log(err)\n        }\n    }\n    render(){\n        return (\n            <form onSubmit={this.handleSubmit}>\n                <h3>Sign Up</h3>\n                <div className=\"form-group\">\n                    <input type=\"text\" placeholder=\"Name\" className=\"form-control\" name=\"name\" onChange={this.handleChange}/>\n                </div>\n                <div className=\"form-group\">\n                    <input type=\"email\" placeholder=\"Email\" className=\"form-control\" name=\"email\" onChange={this.handleChange}/>\n                </div>\n                <div className=\"form-group\">\n                    <input type=\"password\" placeholder=\"Password\" className=\"form-control\" name=\"password\" onChange={this.handleChange}/>\n                </div>\n                <div className=\"form-group\">\n                    <input type=\"password\" placeholder=\"Confirm Pasword\" name=\"confirmPassword\" className=\"form-control\" onChange={this.handleChange}/>\n                </div>\n                <div className=\"form-group\">\n                    <button className=\"btn btn-default\">Sign up</button>\n                </div>\n            </form>\n        )\n    }\n}\nexport default SignupForm","import React, { Component } from 'react';\nimport './SignupPage.css';\nimport SignupForm from '../../components/SignupForm/SignupForm';\n\n\nclass SignupPage extends Component {\n  constructor(props) {\n    super(props);\n    this.state = {message: ''}\n  }\n\n  updateMessage = (msg) => {\n    this.setState({message: msg});\n  }\n\n  render() {\n    return (\n      <div className='SignupPage'>\n        <SignupForm {...this.props} updateMessage={this.updateMessage} />\n        <p>{this.state.message}</p>\n      </div>\n    );\n  }\n}\n\nexport default SignupPage;","import React, { Component } from 'react'\nimport userService from '../../services/userService'\nimport './LoginPage.css'\n\nclass LoginPage extends Component {\n    constructor(props){\n        super(props)\n        this.state = {\n            email: '',\n            password: '',\n        }\n    }\n\n    handleChange = (event) => {\n        this.setState({\n            [event.target.name]: event.target.value\n        })\n    }\n\n    handleSubmit = async (event) => {\n        event.preventDefault()\n        try {\n            await userService.login(this.state)\n            this.props.handleSignupOrLogin()\n            //redirect to home page\n            this.props.history.push('/')\n        }catch(err){\n            console.log(err)\n        }\n    }\n    \n    render(){\n        return (\n            <div className=\"LoginPage\">\n            <form onSubmit={this.handleSubmit}>\n                <h3>Log In</h3>\n                <div className=\"form-group\">\n                    <input type=\"email\" placeholder=\"Email\" className=\"form-control\" name=\"email\" onChange={this.handleChange}/>\n                </div>\n                <div className=\"form-group\">\n                    <input type=\"password\" placeholder=\"Password\" className=\"form-control\" name=\"password\" onChange={this.handleChange}/>\n                </div>\n                <div className=\"form-group\">\n                    <button className=\"btn btn-default\">Log in</button>\n                </div>\n            </form>\n            </div>\n        )\n    }\n}\nexport default LoginPage\n","import React, { useState, useEffect } from 'react'\nimport style from './UpdateDiary.css'\nimport { useParams, useHistory } from 'react-router-dom'\n// import { ReactSketchCanvas } from 'react-sketch-canvas';\n\nfunction UpdateDiary(props) {\n    const history = useHistory()\n    const { id } = useParams();\n    const [editedDiary, setEditedDiary] = useState('')\n    const [postData, setPostData] = useState({ title: '', text: '', date: '' })\n\n    // useEffect(() => {\n    //     if(diary)setpostdata(diary)\n    // },[diary]) \n\n    const handleNameChange = (event) => {\n        setEditedDiary(event.target.value)\n    }\n\n    const handleFormSubmit = async (event) => {\n        // event.preventDefault();\n        history.push('/Diary')\n\n    }\n\n    const handleUpdateDiary = (event, id) => {\n        // event.preventDefault()\n        console.log('update')\n        console.log(id)\n        fetch(`/diarys/update/${id}`, {\n            method: 'PUT',\n            body: JSON.stringify(postData),\n            headers: new Headers({ 'Content-Type': 'application/json'})\n        }).then((res) => res.json())\n          \n    }\n \n    return (\n    <div className={style.diary}>\n        <div className=\"background\">\n                <div className=\"newdiary\">\n                    <form onSubmit={(e) => handleUpdateDiary(e,id)}>\n                        <div className=\"title\">\n                            <input type='text' placeholder=\"Title\" name=\"title\"\n                                className=\"titlename\"\n                                // defaultValue={props.diary.title} \n                                onChange={(e) => setPostData({...postData, title:e.target.value})} />\n                        </div>\n                        <div className=\"textbox\">\n                            <textarea type=\"text\" rows=\"6\" cols=\"55\"\n                                placeholder=\"What did you do today??\"\n                                name=\"text\"\n                                // defaultValue={props.diary.text}\n                                onChange={(e) => setPostData({...postData, text:e.target.value})}\n                            />\n                        </div>\n                        <div>\n                        <input type='date'\n                                className='date'\n                                name=\"date\"\n                                    // defaultValue={props.diary.date}\n                                onChange={(e) => setPostData({...postData, date:e.target.value})}/>\n                        </div>\n                        <div className=\"addbtn\">\n                            <button type=\"submit\" className=\"btn\">Edit Diary</button>\n                        </div>\n\n                    </form>\n                    </div>\n            </div>\n        </div>\n    )\n}\n\nexport default UpdateDiary\n","export default __webpack_public_path__ + \"static/media/home.0d934d1f.jpg\";","import styles from './Home.module.css'\nimport React from 'react'\nimport img from './home.jpg'\n\nfunction Home(props) {\n    return (\n        <div className={styles.main}>\n            {/* <h1>Welcome</h1> */}\n            <div><img className={styles.image} src={img}/>\n            </div>\n        </div>\n    )\n}\n\nexport default Home\n","import {\n  BrowserRouter as Router,\n  Route\n} from \"react-router-dom\";\nimport React, { Component } from 'react';\nimport './App.css';\nimport DiaryList from './components/DiaryList/DiaryList';\nimport Navbar from './components/Navbar/Navbar';\nimport NewDiary from \"./components/NewDiary/NewDiary\";\nimport SignupPage from \"./pages/SignupPage/SignupPage\";\nimport userService from \"./services/userService\";\nimport LoginPage from \"./pages/LoginPage/LoginPage\";\nimport UpdateDiary from \"./components/UpdateDiary/UpdateDiary\";\n// import ProtectedRoute from \"../../components/ProtectedRoute/ProtectedRoute\";\nimport Home from \"./components/Home/Home\";\n\nclass App extends Component {\n  constructor(props) {\n    super(props);\n\n    this.state = {\n      diary: [],\n      user: userService.getUser()\n    }\n    this.handleDelete = this.handleDelete.bind(this)\n    this.componentDidMount = this.componentDidMount.bind(this)\n    this.handleUpdateDiary = this.handleUpdateDiary.bind(this)\n  }\n  \n\n  componentDidMount() {\n      fetch(\"/diarys/data\")\n          .then((res) => res.json())\n          .then((data) => this.setState({ diary: data }))\n          .then(() => console.log(this.state.diary))\n\n    }\n  \n  handleDelete(event, id) {\n      event.preventDefault()\n      fetch(`/diarys/delete/${id}`, {\n          method: 'DELETE',\n          headers: new Headers({ 'Content-Type': 'application/json'})\n      }).then((res) => res.json())\n        .then((data) => this.setState({ diary: data }))\n        \n  }\n\n  handleUpdateDiary(event, id) {\n    // event.preventDefault()\n    console.log('update')\n    fetch(`/diarys/update/${id}`, {\n        method: 'PUT',\n        body: JSON.stringify(this.state),\n        headers: new Headers({ 'Content-Type': 'application/json'})\n    }).then((res) => res.json())\n      \n}\n\n  // .then(() => this.props.history.push(\"/Diary\"))\n\n  handleSignupOrLogin = () => {\n    this.setState({user: userService.getUser()})\n  }\n\n  handleLogout = () => {\n    userService.logout()\n    this.setState({user: null})\n  }\n  \n    render() {\n      return (\n        <div className=\"App\">\n        <Router>\n            <Navbar currentUser={this.state.user} handleLogout={this.handleLogout}/>\n            <Route path=\"/\" exact>\n                <Home/>\n            </Route>\n\n            <Route path=\"/Diary\" exact>\n              <DiaryList diary={this.state.diary}\n                handleDelete={this.handleDelete}\n                componentDidMount={this.componentDidMount}\n              />\n            </Route>\n\n            <Route exact path=\"/Diary/update/:id\">\n              <UpdateDiary handleUpdateDiary={this.handleUpdateDiary}/>\n            </Route>\n\n            <Route exact path=\"/Diary/new\">\n              <NewDiary/>\n            </Route>\n            \n            <Route path=\"/Signup\">\n              <SignupPage />\n            </Route>\n\n            <Route path=\"/login\" render={({history}) =>\n                <LoginPage\n                  history={history}\n                  handleSignupOrLogin={this.handleSignupOrLogin}/>\n            }>\n            </Route>\n            </Router>\n          </div>          \n      );\n    }\n  }\n\n\n\nexport default App;\n\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n\n"],"sourceRoot":""}